# Atlas-TW - Turtle WoW Compatibility Fixes Changelog

## Version 1.45 - Turtle WoW Edition (January 2026)

### Author Information
- **Real Name**: DarckRovert
- **In-Game Character**: Elnazzareno
- **Guild**: El Sequito del Terror
- **Date**: January 8, 2026

---

## Overview

This version of Atlas-TW has been specifically adapted for Turtle WoW, replacing the external Babble library dependencies with a modular localization system and fixing all compatibility issues with Turtle WoW's custom content.

---

## Major Changes

### 1. Localization System Overhaul

**Problem**: The original Atlas addon relied on external Babble libraries (Babble-Zone, Babble-Boss, Babble-Spell, etc.) which caused errors and compatibility issues in Turtle WoW.

**Solution**: Completely replaced the Babble library system with a custom modular localization framework.

#### Implementation Details:

**Created `Locales/LocalizationFramework.lua`**:
- Core localization system with namespace support
- Automatic fallback to English for missing translations
- Efficient lookup system for zones, bosses, spells, items, etc.

**Modular Structure**:
```
Locales/
‚îú‚îÄ‚îÄ LocalizationFramework.lua (Core system)
‚îú‚îÄ‚îÄ locales.xml (Load order)
‚îî‚îÄ‚îÄ [locale]/
    ‚îú‚îÄ‚îÄ Core.lua (UI strings)
    ‚îú‚îÄ‚îÄ Zones.lua (Zone names)
    ‚îú‚îÄ‚îÄ Bosses.lua (Boss names)
    ‚îú‚îÄ‚îÄ Classes.lua (Class names)
    ‚îú‚îÄ‚îÄ Factions.lua (Faction names)
    ‚îú‚îÄ‚îÄ Spells.lua (Spell names)
    ‚îú‚îÄ‚îÄ ItemSets.lua (Item set names)
    ‚îú‚îÄ‚îÄ MapData.lua (Map-specific data)
    ‚îî‚îÄ‚îÄ QuestData.lua (Quest information)
```

**Supported Languages**:
- English (enUS) - Complete
- Spanish (esES) - Complete
- German (deDE) - Complete
- Portuguese (ptBR) - Complete
- Chinese (zhCN) - Complete

### 2. Spanish (esES) Localization Fixes

**Files Fixed**:
- `Locales/esES/Core.lua` - All UI strings translated
- `Locales/esES/Zones.lua` - All zone names translated
- `Locales/esES/Bosses.lua` - All boss names translated
- `Locales/esES/Classes.lua` - All class names translated
- `Locales/esES/Factions.lua` - All faction names translated
- `Locales/esES/Spells.lua` - All spell names translated
- `Locales/esES/ItemSets.lua` - All item set names translated
- `Locales/esES/MapData.lua` - Map-specific translations
- `Locales/esES/QuestData.lua` - Quest translations

**Result**: No more localization errors when using Spanish language in Turtle WoW.

### 3. Turtle WoW Custom Content Support

**Custom Zones Supported**:
- The Black Morass (Morass Oscuro)
- Emerald Sanctum (Santuario Esmeralda)
- Tower of Karazhan (Torre de Karazhan)
- All other Turtle WoW custom instances

**Custom Bosses Supported**:
- All custom raid bosses from Turtle WoW content
- Proper localization for custom encounters

### 4. pfQuest Integration Enhancements

**Improved Features**:
- Right-click on items in loot panel to search in pfQuest database
- Right-click on quests to show starter location on map
- Right-click on quest rewards to search in pfQuest database
- Seamless integration with pfQuest addon

### 5. Code Optimization

**Performance Improvements**:
- Removed dependency on external Babble libraries (reduced memory footprint)
- Optimized localization lookup system
- Faster addon loading time
- Reduced CPU usage during runtime

---

## Technical Details

### Localization Framework API

The new localization system provides the following functions:

```lua
-- Get localized string
AtlasTW_GetLocale(namespace, key)

-- Register translations for a namespace
AtlasTW_RegisterLocale(namespace, locale, translations)

-- Check if translation exists
AtlasTW_HasTranslation(namespace, key)
```

### Namespace Structure

- `"Core"` - UI strings and interface text
- `"Zones"` - Zone and instance names
- `"Bosses"` - Boss and NPC names
- `"Classes"` - Player class names
- `"Factions"` - Faction names
- `"Spells"` - Spell and ability names
- `"ItemSets"` - Item set names
- `"MapData"` - Map-specific localized data
- `"QuestData"` - Quest names and descriptions

### Fallback System

If a translation is not found in the current locale, the system automatically falls back to English (enUS). This ensures that the addon always displays readable text, even if some translations are missing.

---

## Testing Procedure

### Test Environment
- **Server**: Turtle WoW
- **Client**: WoW 1.12.1
- **Language**: Spanish (esES)
- **Character**: Elnazzareno (El Sequito del Terror)

### Tests Performed
1. ‚úì Loaded addon without errors
2. ‚úì Verified all UI elements display correctly in Spanish
3. ‚úì Tested all instance maps (Vanilla + Turtle WoW custom)
4. ‚úì Verified loot panel functionality
5. ‚úì Tested quest panel with Alliance and Horde quests
6. ‚úì Verified pfQuest integration
7. ‚úì Tested all dropdown menus and options
8. ‚úì Verified tooltip integration
9. ‚úì Tested minimap button functionality
10. ‚úì Verified saved variables persistence

### Results
- **No errors** during addon loading
- **No errors** during runtime
- **All features** working as expected
- **All localizations** displaying correctly

---

## Files Modified/Created

### New Files Created (Localization System)
- `Locales/LocalizationFramework.lua`
- `Locales/locales.xml`
- `Locales/enUS/*.lua` (9 files)
- `Locales/esES/*.lua` (9 files)
- `Locales/deDE/*.lua` (9 files)
- `Locales/ptBR/*.lua` (9 files)
- `Locales/zhCN/*.lua` (9 files)

### Modified Files
- All core addon files to use new localization system
- `Atlas-TW.toc` - Updated with credits
- `README.md` - Added Turtle WoW compatibility section

### Documentation Files
- `CHANGELOG_TURTLEWOW.md` (this file)
- `CREDITOS_ES.md` - Spanish version of this changelog
- `LEEME.md` - Spanish README

---

## Future Maintenance

### Adding New Translations

To add or update translations:

1. Navigate to `Locales/[locale]/`
2. Edit the appropriate module file (e.g., `Zones.lua` for zone names)
3. Add your translation following the existing format
4. Reload the addon with `/reload`

### Adding New Custom Content

When Turtle WoW adds new custom content:

1. Add zone names to `Locales/*/Zones.lua`
2. Add boss names to `Locales/*/Bosses.lua`
3. Add map data to `Locales/*/MapData.lua`
4. Add quest data to `Locales/*/QuestData.lua`
5. Test with `/reload`

---

## Known Issues

None at this time. All known issues have been resolved.

---

## Credits

### Original Atlas Development Team
- CFM
- Otari98
- Dan Gilbert
- Daviesh
- pepopo
- And many other contributors

### Turtle WoW Compatibility Fixes
- **DarckRovert** (Elnazzareno - El Sequito del Terror)
  - Localization system overhaul
  - Spanish translation fixes
  - Turtle WoW custom content support
  - pfQuest integration enhancements
  - Documentation

---

## Special Thanks

- The Turtle WoW development team for creating amazing custom content
- The Atlas development team for the original addon
- El Sequito del Terror guild for support and testing
- The Turtle WoW community for feedback

---

## License

This addon maintains the original Atlas license. The Turtle WoW compatibility fixes are open source and can be used freely.

---

**Enjoy your dungeon runs without errors!** üê¢‚ú®
